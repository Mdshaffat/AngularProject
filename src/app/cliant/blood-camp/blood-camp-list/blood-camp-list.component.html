<app-title [title]="title"></app-title>
<div>

  <mat-form-field class="col-division" appearance="fill">
    <mat-label>Division</mat-label>
    <!-- (click)="loadUpazilaBySelectDistrict(upazila.id)" -->
    <mat-select [(ngModel)]="divisionId" #chooseddivValue (valueChange)="loadDistrictBySelectDivision(chooseddivValue.value)">
      <mat-option [value]="0">--</mat-option>
      <mat-option *ngFor="let division of divisions" [value]="division.id">
        {{division.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="col-district" appearance="fill">
    <mat-label>District</mat-label>
    <!-- (click)="loadUpazilaBySelectDistrict(upazila.id)" -->
    <mat-select [(ngModel)]="districtId" #choosedValue (valueChange)="loadUpazilaBySelectDistrict(choosedValue.value)">
      <mat-option [value]="0">--</mat-option>
      <mat-option *ngFor="let district of districts" [value]="district.id">
        {{district.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="col-upazila" appearance="fill">
    <mat-label>Upazila</mat-label>
    <mat-select [(ngModel)]="upazilaId" >
      <mat-option [value]="0">--</mat-option>
      <mat-option *ngFor="let upazila of upazilas" [value]="upazila.id" >
        {{upazila.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="col-upazila" appearance="fill">
    <mat-label>Blood Group</mat-label>
    <mat-select [(ngModel)]="bloodGroupId" >
      <mat-option [value]="0">--</mat-option>
      <mat-option *ngFor="let bloodGroup of bloodGroups" [value]="bloodGroup.id" >
        {{bloodGroup.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <button class="btn searchbutton" type="button" (click)="onSearch()">
    <span class="material-icons buttonadd btn">
      search
    </span>Search
  </button>
  <br>
      <div class="addnewuser">
        <button mat-raised-button class="btn addbutton" [routerLink]="['../add']" >
          <span class="material-icons buttonadd btn">
            add
          </span>Donner</button>
      </div>
  </div>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8"
                   matSort >
                   <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="name"> Name </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.name}} </td>
                  </ng-container>
                  <ng-container matColumnDef="mobileNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="mobileNumber"> Mobile Number </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.mobileNumber}} </td>
                  </ng-container>
                  <ng-container matColumnDef="bloodGroup">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="bloodGroup"> Blood <br> Group </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.bloodGroup}} </td>
                  </ng-container>
                  <ng-container matColumnDef="address">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="address"> Address </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.address}} </td>
                  </ng-container>
                  <ng-container matColumnDef="division">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="division"> Division </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.division}} </td>
                  </ng-container>
                  <ng-container matColumnDef="district">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="district"> District </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.district}} </td>
                  </ng-container>
                  <ng-container matColumnDef="upazila">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="upazila"> Upazila </th>
                    <td mat-cell *matCellDef="let dataSource"> {{dataSource.upazila}} </td>
                  </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        
          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data matching the filter</td>
          </tr>
        </table>
        <mat-paginator 
        #paginator 
        [length]="totalRows" 
        [pageIndex]="currentPage" 
        [pageSize]="pageSize"
        [pageSizeOptions]="pageSizeOptions" 
        
        (page)="pageChanged($event)" 
        aria-label="Select page"
        ></mat-paginator>
        <footer-for-all [footerName]="footerName"></footer-for-all>
      